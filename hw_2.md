1. Проверяем уровень изоляции установленный по умолчанию
```sql
iso> show default_transaction_isolation;
+-------------------------------+
| default_transaction_isolation |
|-------------------------------|
| read committed                |
+-------------------------------+
SHOW 1
Time: 0.006s
```

2. Открываем 2е сессии `psql -U postgres`

3. Начинаем транзакции в **двух** сессиях
```sql
begin;
```

4. Добавляем новую запись в 1й сессии
```sql
insert into schema2.test values (2);
INSERT 0 1
Time: 0.002s
```

5. Забираем все записи во 2й сессии
```sql
select * from schema2.test;
+--------+
| number |
|--------|
| 1      |
+--------+
SELECT 1
Time: 0.007s --- Так как в 1й сессии транзакция еще не закоммичена, селект не возвращает новую запись
```

6. Завершаем транзакцию в 1й сессии и снова пробуем забрать все записи
```sql
iso> select * from schema2.test;
+--------+
| number |
|--------|
| 1      |
| 2      |
+--------+
SELECT 2
Time: 0.006s -- Получаем новую запись. Текущий уровень не может гарантировать что 'грязное чтение' не будет происходить
```

7. Закрываем транзакции и открываем новые с другим уровнем изоляции
```sql
BEGIN TRANSACTION ISOLATION LEVEL REPEATABLE READ;
```

8. Добавляем новую запись в 1й транзакции, во 2й транзакции пытаемся ее получить
```sql
iso> select * from schema2.test;
+--------+
| number |
|--------|
| 1      |
| 2      |
+--------+
SELECT 2
Time: 0.007s --- Новой записи нет
```

9. Коммитим 1ю транзакцию и снова пытаемся получить записи во 2й
```sql
iso> select * from schema2.test;
+--------+
| number |
|--------|
| 1      |
| 2      |
+--------+
SELECT 2
Time: 0.006s --- Новой записи все так же нет. Уровень изоляции гарантирует повторяемое чтение
``
